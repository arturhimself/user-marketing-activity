(()=>{"use strict";var i={373:function(t,e,i){var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=(Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0,i(107)),o={time:60};function s(t,e){this.storageService=e,this.events={document:["click","mousemove","touchmove","scroll","input"],input:["focus","blur"],button:["focus","blur"]},this.wasActivity=!1,this.options=n(n({},o),t),this.stepsAmount=this.options.time/10,this.currentStep=this.storageService.hasItem()?Number(this.storageService.getItem()):1,this.stepsAmount!==this.currentStep&&(this.handleClientActivity=(0,r.throttle)(this.handleClientActivity.bind(this),500),this.start())}s.prototype.start=function(){var t=this;this.setListeners(),this.intervalId=setInterval(function(){t.currentStep===t.stepsAmount?t.onSuccess():t.wasActivity&&(t.currentStep++,t.storageService.setItem(t.currentStep),t.wasActivity=!1)},1e4)},s.prototype.onSuccess=function(){this.clear(),this.options.onSuccess()},s.prototype.clear=function(){this.removeListeners(),this.intervalId&&clearInterval(this.intervalId)},s.prototype.removeListeners=function(){this.handleListeners("remove")},s.prototype.setListeners=function(){this.handleListeners("set")},s.prototype.handleListeners=function(t){var n=this,r="remove"===t?"removeEventListener":"addEventListener";Object.entries(this.events).forEach(function(t){var i=t[0];t[1].forEach(function(t){var e;"document"===i?document[r](t,n.handleClientActivity):null!=(e=document.querySelector(i))&&e[r](t,n.handleClientActivity)})})},s.prototype.handleClientActivity=function(){this.wasActivity||(this.wasActivity=!0)},e.App=s},107:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=void 0;e.throttle=function(e,i){void 0===i&&(i=1e3);var n=!1;return function(t){n||(n=!0,setTimeout(function(){n=!1,e(t)},i))}}},287:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StorageService=void 0;var i="activityStep";function n(){}n.prototype.getItem=function(){return Number(localStorage.getItem(i))},n.prototype.setItem=function(t){return localStorage.setItem(i,JSON.stringify(t))},n.prototype.hasItem=function(){return Boolean(localStorage.getItem(i))},e.StorageService=n}},n={};function r(t){var e=n[t];if(void 0!==e)return e.exports;e=n[t]={exports:{}};return i[t].call(e.exports,e,e.exports,r),e.exports}var t,e,o,s={};t=s,e=r(373),o=r(287),t.default=function(t){new e.App(t,new o.StorageService)},window.userMarketingActivity=s.default})();